"use strict";(self.webpackChunkcommonjs=self.webpackChunkcommonjs||[]).push([[189],{"webpack/container/remote/qodly_964b4626361e6f9ea9b5/components":(e,n,t)=>{t.r(n),t.d(n,{default:()=>H});var o=t("webpack/sharing/consume/default/@ws-ui/webform-editor"),r=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/react-icons/md/index.esm.js");function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var i=[{key:"url",label:"Upload URL",type:o.ESetting.TEXT_FIELD,defaultValue:""},{key:"allowedFileTypes",label:"Allowed File Types",type:o.ESetting.SELECT,defaultValue:"*",options:[{label:"All",value:"*"},{label:"Images",value:"image/*"},{label:"Video",value:"video/*"},{label:"Audio",value:"audio/*"},{label:"Documents",value:"application/*"},{label:"Text",value:"text/*"},{label:"PDF",value:"application/pdf"},{label:"ZIP",value:"application/zip"}]},{key:"fileLimit",label:"File Limit",type:o.ESetting.NUMBER_FIELD,defaultValue:0},{key:"fileSizeLimit",label:"File Size Limit",type:o.ESetting.NUMBER_FIELD,defaultValue:0}],s=[{key:"properties",label:"Properties",type:o.ESetting.GROUP,components:i}].concat(a((0,o.load)(o.DEFAULT_SETTINGS).filter("datasource"))),c=[].concat(i,a((0,o.load)(o.BASIC_SETTINGS).filter("style.overflow")));const d=s,u={craft:{displayName:"DropZone",kind:o.EComponentKind.BASIC,props:{name:"",classNames:[],events:[]},related:{settings:(0,o.Settings)(d,c)}},info:{displayName:"DropZone",exposed:!0,icon:r.CtR,events:[{label:"On Upload",value:"onupload"},{label:"On Upload Success",value:"onuploadsuccess"},{label:"On Upload Failure",value:"onuploadfailure"},{label:"On File Select",value:"onfileselect"},{label:"On File Remove",value:"onfileremove"}],datasources:{}},defaultProps:{allowedFileTypes:"*",fileLimit:0,fileSizeLimit:0,style:{boxShadow:"4px 4px 30px rgba(0, 0, 0, .2)",backgroundColor:"rgba(0, 110, 255, 0.041)",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"10px",paddingRight:"10px",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-between",gap:"5px",minHeight:"300px",width:"300px",cursor:"pointer",borderRadius:"10px"}}};var p=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/classnames/index.js"),f=t.n(p),m=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),b=t.n(m),y=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/style-loader/dist/runtime/styleDomAPI.js"),v=t.n(y),h=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/style-loader/dist/runtime/insertBySelector.js"),g=t.n(h),x=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),j=t.n(x),w=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/style-loader/dist/runtime/insertStyleElement.js"),S=t.n(w),E=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/style-loader/dist/runtime/styleTagTransform.js"),k=t.n(E),D=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/css-loader/dist/cjs.js!./src/components/DropZone/DropZone.css"),A={};A.styleTagTransform=k(),A.setAttributes=j(),A.insert=g().bind(null,"head"),A.domAPI=v(),A.insertStyleElement=S(),b()(D.A,A),D.A&&D.A.locals&&D.A.locals;var Z=t("webpack/sharing/consume/default/@ws-ui/craftjs-core"),_=t("webpack/sharing/consume/default/react/jsx-runtime");const O=function(e){var n=e.style,t=e.className,r=e.classNames,a=void 0===r?[]:r,l=(0,o.useEnhancedNode)().connectors.connect;(0,o.useDatasourceSub)();var i=(0,o.useEnhancedEditor)(o.selectResolver).resolver;return(0,_.jsxs)("div",{ref:l,style:n,className:f()(t,a),children:[(0,_.jsxs)("div",{className:"dropZoneHeader",children:[(0,_.jsx)(Z.Element,{style:{fontSize:"100px"},id:"dropZoneHeader",role:"dropZoneHeader",is:i.Icon,icon:"fa-cloud-arrow-up",deletable:!1,canvas:!0}),(0,_.jsx)("p",{children:"Drag & drop files here, or click to select files"})]}),(0,_.jsxs)("div",{className:"dropZoneFooter",children:[(0,_.jsx)("p",{children:"Not selected file"}),(0,_.jsx)(Z.Element,{id:"dropZoneDelete",role:"dropZoneDelete",is:i.Icon,icon:"fa-trash",deletable:!1,canvas:!0})]}),(0,_.jsx)("div",{className:"dropZoneButton",children:(0,_.jsx)(Z.Element,{style:{width:"100%",backgroundColor:"royalblue",color:"white",boxShadow:"0 2px 30px rgba(0, 0, 0, 0.205)"},id:"dropZoneButton",role:"dropZoneButton",text:"Upload",is:i.Button,deletable:!1,canvas:!0})})]})};var T=t("webpack/sharing/consume/default/react"),I=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/axios/lib/axios.js");function P(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,l,i=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=a.call(t)).done)&&(i.push(o.value),i.length!==n);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw r}}return i}}(e,n)||N(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){if(e){if("string"==typeof e)return z(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,n):void 0}}function z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}const B=function(e){var n=e.url,t=void 0===n?"":n,r=e.allowedFileTypes,a=void 0===r?"*":r,l=e.fileLimit,i=void 0===l?0:l,s=e.fileSizeLimit,c=void 0===s?0:s,d=e.style,u=e.className,p=e.classNames,m=void 0===p?[]:p,b=e.disabled,y=(0,o.useRenderer)({omittedEvents:["onupload","onuploadsuccess","onuploadfailure","onfileselect","onfileremove"],autoBindEvents:!b}),v=y.connect,h=y.emit,g=(0,o.useEnhancedEditor)(o.selectResolver).resolver,x=F((0,T.useState)(!1),2),j=x[0],w=x[1],S=F((0,T.useState)([]),2),E=S[0],k=S[1],D=F((0,T.useState)(""),2),A=D[0],O=D[1],N=(0,T.useRef)(null),z=function(e){return{name:e.name,size:e.size,type:e.type,lastModified:e.lastModified,webkitRelativePath:e.webkitRelativePath}};return(0,_.jsxs)("div",{ref:v,className:f()(u,m,{dragging:j}),style:d,children:[(0,_.jsxs)("div",{className:"dropZoneHeader",onClick:function(){var e;null===(e=N.current)||void 0===e||e.click()},onDrop:function(e){if(e.preventDefault(),w(!1),!b&&e.dataTransfer.files&&e.dataTransfer.files.length>0){var n=Array.from(e.dataTransfer.files);h("onfileselect",n.map((function(e){return z(e)})));var t=n.filter((function(e){return new RegExp(a.replace(/,/g,"|").replace(/\*/g,".*")).test(e.type)}));k((function(e){var n=t.filter((function(n){return!e.some((function(e){return e.name===n.name&&e.size===n.size}))})),o=!0,r="";return n.forEach((function(e){o&&(o=0===c||e.size<=1024*c*1024,r=o?r:e.name)})),o?i>0&&e.length+n.length>i?(O("You can only upload up to ".concat(i," files.")),e):(O(""),[].concat(P(e),P(n))):(O('File "'.concat(r,'" exceeds the size limit of ').concat(c," MB.")),e)})),e.dataTransfer.clearData()}},onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault(),w(!0)},onDragLeave:function(e){e.preventDefault();var n=e.relatedTarget;e.currentTarget.contains(n)||w(!1)},children:[(0,_.jsx)(Z.Element,{style:{fontSize:"100px"},id:"dropZoneHeader",role:"dropZoneHeader",is:g.Icon,icon:"fa-cloud-arrow-up",deletable:!1,canvas:!0}),A?(0,_.jsx)("p",{style:{color:"Upload successful!"===A?"green":"red"},children:A}):!b&&j?(0,_.jsx)("p",{children:"Drop files here..."}):(0,_.jsx)("p",{children:"Drag & drop files here, or click to select files"}),(0,_.jsx)("input",{ref:N,type:"file",accept:a,multiple:!0,style:{display:"none"},onChange:function(e){if(!b&&e.target.files){var n=Array.from(e.target.files);h("onfileselect",n.map((function(e){return z(e)})));var t=n.filter((function(e){return new RegExp(a.replace(/,/g,"|").replace(/\*/g,".*")).test(e.type)}));k((function(e){var n=t.filter((function(n){return!e.some((function(e){return e.name===n.name&&e.size===n.size}))})),o=!0,r="";return n.forEach((function(e){o&&(o=0===c||e.size<=1024*c*1024,r=o?r:e.name)})),o?i>0&&e.length+n.length>i?(O("You can only upload up to ".concat(i," files.")),e):(O(""),[].concat(P(e),P(n))):(O('File "'.concat(r,'" exceeds the size limit of ').concat(c," MB.")),e)})),e.target.value=""}},disabled:b})]}),(0,_.jsx)("div",{className:"dropZoneFooter",children:E.length>0?E.map((function(e,n){return(0,_.jsxs)("div",{children:[(0,_.jsxs)("p",{children:[e.name," "]}),(0,_.jsx)("div",{onClick:function(){return function(e){h("onfileremove",z(e)),k((function(n){return n.filter((function(n){return n!==e}))}))}(e)},children:(0,_.jsx)(Z.Element,{id:"dropZoneDelete",role:"dropZoneDelete",is:g.Icon,icon:"fa-trash",deletable:!1,canvas:!0})})]},n)})):(0,_.jsx)("p",{children:"Not selected file"})}),E.length>0&&(0,_.jsx)("div",{className:"dropZoneButton",onClick:function(e){if(e.stopPropagation(),h("onupload",E.map((function(e){return z(e)}))),!b&&0!==E.length&&""!==t){var n=new FormData;E.forEach((function(e){n.append("files",e)})),I.A.post(t,n).then((function(e){O("Upload successful!"),h("onuploadsuccess",e.data),k([])})).catch((function(e){console.error("Error during upload:",e),h("onuploadfailure",e),O("Upload failed. Please try again.")}))}},children:(0,_.jsx)(Z.Element,{id:"dropZoneButton",role:"dropZoneButton",text:"Upload",is:g.Button,deletable:!1,canvas:!0})})]})};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){U(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function U(e,n,t){return(n=function(e){var n=function(e){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=C(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var q=function(e){return(0,o.useEnhancedEditor)((function(e){return{enabled:e.options.enabled}})).enabled?(0,_.jsx)(O,R({},e)):(0,_.jsx)(B,R({},e))};q.craft=u.craft,q.info=u.info,q.defaultProps=u.defaultProps;const H={DropZone:q}},"webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/css-loader/dist/cjs.js!./src/components/DropZone/DropZone.css":(e,n,t)=>{t.d(n,{A:()=>i});var o=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=t.n(o),a=t("webpack/container/remote/qodly_964b4626361e6f9ea9b5/node_modules/css-loader/dist/runtime/api.js"),l=t.n(a)()(r());l.push([e.id,".dropZoneHeader {\n  flex: 1;\n  width: 100%;\n  border: 2px dashed royalblue;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.dropZoneHeader:hover {\n  background-color: rgba(0, 110, 255, 0.075);\n}\n\n.dropZoneHeader p {\n  text-align: center;\n}\n\n.dropZoneFooter {\n  background-color: rgba(0, 110, 255, 0.075);\n  width: 100%;\n  min-height: 40px;\n  max-height: fit-content;\n  padding: 8px;\n  border-radius: 10px;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: black;\n  border: none;\n}\n\n.dropZoneFooter > div {\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n  width: 100%;\n}\n\n.dropZoneFooter > div > p {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n",""]);const i=l}}]);